<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Ray Tracing: The Next Week | Siddharth C</title>
<meta name="keywords" content="coding, graphics, projects" />
<meta name="description" content="My understanding from Ray Tracing: The Next Week.">
<meta name="author" content="Siddharth Chillale">
<link rel="canonical" href="https://siddharthchillale.github.io/projects/rt_next_week/" />
<meta name="google-site-verification" content="XYZabc" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.1e44d58192cbf6d7a4eb649bc43dbc3d4cc432677e5d8adc69b08c34cbe461ac.css" integrity="sha256-HkTVgZLL9tek62SbxD28PUzEMmd&#43;XYrcabCMNMvkYaw=" rel="preload stylesheet" as="style">
<link rel="preload" href="profile/puzzle.png" as="image">
<link rel="icon" href="https://siddharthchillale.github.io/profile/puzzle.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://siddharthchillale.github.io/profile/puzzle.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://siddharthchillale.github.io/profile/puzzle.png">
<link rel="apple-touch-icon" href="https://siddharthchillale.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://siddharthchillale.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.92.2" />
<link rel="alternate" type="application/rss+xml" href="https://siddharthchillale.github.io/projects/rt_next_week/index.xml">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CMB721BXKS"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-CMB721BXKS', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Ray Tracing: The Next Week" />
<meta property="og:description" content="Portfolio" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://siddharthchillale.github.io/projects/rt_next_week/" />
<meta property="og:image" content="https://siddharthchillale.github.io/projects/rt_next_week/images/rt_next_week.png" /><meta property="og:site_name" content="Siddharth C" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://siddharthchillale.github.io/projects/rt_next_week/images/rt_next_week.png" />
<meta name="twitter:title" content="Ray Tracing: The Next Week"/>
<meta name="twitter:description" content="Portfolio"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Projects",
      "item": "https://siddharthchillale.github.io/projects/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Ray Tracing: The Next Week",
      "item": "https://siddharthchillale.github.io/projects/rt_next_week/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://siddharthchillale.github.io/" accesskey="h" title="Siddharth (Alt + H)">
                <img src="https://siddharthchillale.github.io/profile/puzzle.png" alt="logo" aria-label="logo"
                    height="35">Siddharth</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://siddharthchillale.github.io/docs/resume.pdf" title="Resume ðŸ“¥">
                    <span>Resume ðŸ“¥</span>
                </a>
            </li>
            <li>
                <a href="https://siddharthchillale.github.io/projects/" title="Projects ðŸ“‘">
                    <span>Projects ðŸ“‘</span>
                </a>
            </li>
            <li>
                <a href="https://siddharthchillale.github.io/blog/" title="Blog ðŸ§ ">
                    <span>Blog ðŸ§ </span>
                </a>
            </li>
            <li>
                <a href="https://siddharthchillale.github.io/about/" title="About ðŸ‘¤">
                    <span>About ðŸ‘¤</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://siddharthchillale.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="https://siddharthchillale.github.io/projects/">Projects</a></div>
  <h1>Ray Tracing: The Next Week</h1>
</header>
<div class="post-content"><figure>
    <img loading="lazy" src="images/rt_next_week_100spp.png"
         alt="Ray traced Spheres" width="9600px&#34;"/> <figcaption>
            <p>Ray traced Spheres</p>
        </figcaption>
</figure>

<p>Ray tracing next week</p>
<ol>
<li>Motion Blur</li>
</ol>
<p>Basically, we open the camera shutter for some time duration from time t0 to time t1. In that time, the object is sampled at some random intervals and the aggregate of all these samples is added up to give the final image of the object. This results in the object rendered as blurred due to motion. While this effect can be achieved in screenspace, a way to achieve it in-camera is shown here, I believe, to introduce the idea of timed-rays (or rays having temporal existence). However, this implementation does have shortcomings though. Namely that this captures motion blur of objects that are directly hit by the camera rays, but motion blur is not captured in the reflections. I might have to present a good example to showcase this effect.</p>
<ol start="2">
<li>BVH</li>
</ol>
<p>This is an important topic to accelerate ray-object intersections. Implemented properly, this can achieve better performance. As our application is single thread on CPU, the boost in the performance is negligible for our simple scenes.
How BVH works is that we try to eliminate the most occuring case as fast as possible. The most occuring case being that the object is NOT hit by the ray. Till now, we send a ray through every pixel of the screen. This ray is check for intersection with spheres that collectively make up our scene. It seems rather unnecessary that we have to do the complicated ray-sphere intersection tests for every single ray. We can reduce the time-consuming math if we can somehow eliminate the cases where there is a 100% chance that the ray will not hit the sphere. This is achieved rather cleverly, by using bounding boxes. Axis Aligned Bounding Box or AABB tests are fast to calculate. How this goes is that we create a tight enveloping box around our primitives(spheres in this case) that is aligned wrt to the camera coordinate axis. (citation need for the last part). Calculating ray-box intersections is simple to implement as well as to calculate. <!-- raw HTML omitted -->.
Now preparing one box per sphere is good, but if you have hundred spheres,, calculating hundred AABB tests throws us back to out original problem and things get slow again. To overcome this, boxes that are close to other boxes can be grouped up to create a larger box that envelopes the two AABBs, This generates a tree of bounding box heirarchies that becomes easier to calculate. When an intersection with a AABB occurs, the ray then checks if there is an intersection with any of its children, and recurses its way through to ultimately do ray-sphere intersection tests.</p>
<ol>
<li>Solid Texture Mapping</li>
</ol>
<p>We create a texture class. this is attached to an object&rsquo;s material and acts as its base color. Here, we consider solid texturing, i.e. geometrically achieved textures rather than image look ups.
<figure>
    <img loading="lazy" src="images/texture_checker.png"
         alt="Ray traced Spheres with checkerboard texture" width="500px"/> <figcaption>
            <p>Ray traced Spheres with checkerboard texture</p>
        </figcaption>
</figure>
</p>
<ol start="4">
<li>Perlin Noise</li>
</ol>
<p>We oversee the different types of random noise generation and create a noise texture.
<figure>
    <img loading="lazy" src="images/noise0.png"
         alt="Ray traced Spheres with discrete noise" width="300px"/> <figcaption>
            <p>Ray traced Spheres with discrete noise</p>
        </figcaption>
</figure>

<figure>
    <img loading="lazy" src="images/noise4.png"
         alt="Ray traced Spheres with noise texture" width="300px"/> <figcaption>
            <p>Ray traced Spheres with noise texture</p>
        </figcaption>
</figure>

5. Image Texture Mapping</p>
<p>We looked at geometric textures, and now we can handle image texture data. We learn about uv mapping into an image.</p>
<ol start="6">
<li>Rectangles and Lights</li>
</ol>
<p>Here we come across the rendering equation that we were avoiding for so much time. Light/emissive surfaces are introduced. And the color function includes an approximation of the rendering equation. WE also create a scene of our sphere + rectangles primitives. There&rsquo;s no ray-triangle intersection handled until now or even in the future abd so mesh-laoding is not implemented.
<figure>
    <img loading="lazy" src="images/emissive_lights.png"
         alt="Emissive sphere and rectangle" width="600px"/> <figcaption>
            <p>Emissive sphere and rectangle</p>
        </figcaption>
</figure>
</p>
<ol start="7">
<li>Instances for rotation and translation</li>
</ol>
<p>how rotation and translation is handled is very unintuitive for me. now it makes sense when I relate it to rasterization. In rasterization, to handle object movement, we transform world transformation to camera space transformations. However, in raytracing , instead of applying transformations to objects we apply the inverse transfomations on the rays that hit the object. seems very unintuitive, but it makes sense if you think about it and do the math.</p>
<ol start="8">
<li>Volumetric objects</li>
</ol>
<p>Volumetric objects can be thought of as materials where light enters the material and changes direction and intensity the further inside it is in that said material.
<figure>
    <img loading="lazy" src="images/volumetric.png"
         alt="Volumetric cuboids" width="500px"/> <figcaption>
            <p>Volumetric cuboids</p>
        </figcaption>
</figure>
</p>
<p>To understand more of the math used, go read my post on <a href="../rt_rest_of_life">Ray Tracing: The Rest of your life</a>.
If you missed the post previous to this one (Ray Tracing in One Weekend), read it <a href="../rt_one_weekend/">here</a></p>
<blockquote>
<p>A link to my code is here: <a href="https://github.com/SiddharthChillale/Ray_Tracer">SiddharthChillale/Ray_Tracer</a></p>
<p>link to the original book is here : <a href="https://raytracing.github.io/">Ray Tracing in One Weekendâ€”The Book Series</a></p>
</blockquote>


</div>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://siddharthchillale.github.io/">Siddharth C</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
